"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[262],{4755(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"api-reference/oauth","title":"InstagramOAuth","description":"Static class for handling the OAuth authentication flow.","source":"@site/docs/api-reference/oauth.md","sourceDirName":"api-reference","slug":"/api-reference/oauth","permalink":"/Instagram-graph-api-sdk/api-reference/oauth","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"InstagramClient","permalink":"/Instagram-graph-api-sdk/api-reference/client"},"next":{"title":"UsersApi","permalink":"/Instagram-graph-api-sdk/api-reference/users"}}');var r=s(4848),i=s(8453);const c={sidebar_position:3},d="InstagramOAuth",a={},l=[{value:"Methods",id:"methods",level:2},{value:"buildAuthorizationUrl()",id:"buildauthorizationurl",level:3},{value:"parseCallback()",id:"parsecallback",level:3},{value:"exchangeCodeForToken()",id:"exchangecodefortoken",level:3},{value:"getShortLivedToken()",id:"getshortlivedtoken",level:3},{value:"getLongLivedToken()",id:"getlonglivedtoken",level:3},{value:"getDefaultScopes()",id:"getdefaultscopes",level:3},{value:"getAllScopes()",id:"getallscopes",level:3},{value:"Types",id:"types",level:2},{value:"InstagramScope",id:"instagramscope",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"instagramoauth",children:"InstagramOAuth"})}),"\n",(0,r.jsx)(n.p,{children:"Static class for handling the OAuth authentication flow."}),"\n",(0,r.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(n.p,{children:"All methods are static - no instantiation needed."}),"\n",(0,r.jsx)(n.h3,{id:"buildauthorizationurl",children:"buildAuthorizationUrl()"}),"\n",(0,r.jsx)(n.p,{children:"Build the URL to redirect users for Instagram login."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const url = InstagramOAuth.buildAuthorizationUrl({\n  clientId: 'your-app-id',\n  redirectUri: 'https://your-app.com/callback',\n  scopes: ['instagram_business_basic'],\n  state: 'csrf-token',  // recommended\n  responseType: 'code', // default\n  forceReauth: false,   // optional\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"clientId"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Instagram App ID"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"redirectUri"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"OAuth callback URL"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"scopes"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"InstagramScope[]"})}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Permissions to request"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"state"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"CSRF protection token"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"responseType"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsxs)(n.td,{children:["Always ",(0,r.jsx)(n.code,{children:"'code'"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"forceReauth"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Force re-login"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"parsecallback",children:"parseCallback()"}),"\n",(0,r.jsx)(n.p,{children:"Parse the callback URL after user authorization."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const { code, state, error, errorReason } = InstagramOAuth.parseCallback(\n  'https://your-app.com/callback?code=ABC&state=xyz'\n);\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"code"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string | null"})}),(0,r.jsx)(n.td,{children:"Authorization code"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"state"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string | null"})}),(0,r.jsx)(n.td,{children:"State parameter"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"error"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string | null"})}),(0,r.jsx)(n.td,{children:"Error code if denied"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"errorReason"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string | null"})}),(0,r.jsx)(n.td,{children:"Error reason"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"exchangecodefortoken",children:"exchangeCodeForToken()"}),"\n",(0,r.jsx)(n.p,{children:"Exchange authorization code for a long-lived access token."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const tokens = await InstagramOAuth.exchangeCodeForToken({\n  clientId: 'your-app-id',\n  clientSecret: 'your-app-secret',\n  redirectUri: 'https://your-app.com/callback',\n  code: 'authorization-code',\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"{\n  access_token: string;  // Long-lived token (60 days)\n  user_id: string;       // Instagram User ID\n  token_type: 'bearer';\n  expires_in: number;    // Seconds until expiration\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getshortlivedtoken",children:"getShortLivedToken()"}),"\n",(0,r.jsx)(n.p,{children:"Get only the short-lived token (1 hour)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const shortToken = await InstagramOAuth.getShortLivedToken({\n  clientId: 'your-app-id',\n  clientSecret: 'your-app-secret',\n  redirectUri: 'https://your-app.com/callback',\n  code: 'authorization-code',\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getlonglivedtoken",children:"getLongLivedToken()"}),"\n",(0,r.jsx)(n.p,{children:"Exchange a short-lived token for a long-lived token."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const longToken = await InstagramOAuth.getLongLivedToken({\n  clientSecret: 'your-app-secret',\n  accessToken: shortLivedToken,\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getdefaultscopes",children:"getDefaultScopes()"}),"\n",(0,r.jsx)(n.p,{children:"Get the recommended default scopes."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const scopes = InstagramOAuth.getDefaultScopes();\n// ['instagram_business_basic', 'instagram_business_manage_messages', \n//  'instagram_business_manage_comments', 'instagram_business_content_publish']\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getallscopes",children:"getAllScopes()"}),"\n",(0,r.jsx)(n.p,{children:"Get all available scopes."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const scopes = InstagramOAuth.getAllScopes();\n// Also includes 'instagram_business_manage_insights'\n"})}),"\n",(0,r.jsx)(n.h2,{id:"types",children:"Types"}),"\n",(0,r.jsx)(n.h3,{id:"instagramscope",children:"InstagramScope"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"type InstagramScope = \n  | 'instagram_business_basic'\n  | 'instagram_business_content_publish'\n  | 'instagram_business_manage_messages'\n  | 'instagram_business_manage_comments'\n  | 'instagram_business_manage_insights';\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453(e,n,s){s.d(n,{R:()=>c,x:()=>d});var t=s(6540);const r={},i=t.createContext(r);function c(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);